<!DOCTYPE html>
<html ng-app="Chat">
  <head>
    <title>GoInstant GoAngular Component Example</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="/bower_components/bootstrap/dist/css/bootstrap.min.css">
    <link href="/css/gi-banner.css" rel="stylesheet">
    <link href="/css/style.css" rel="stylesheet">
  </head>
  <body>
    <div class="container" ng-controller="ChatCtrl">
      <h1>GoAngular Getting Started Example Chat</h1>
      <section id="messages" class="clearfix">
        <div class="table-wrapper">
          <table class="table">
            <tr ng-repeat="message in messages | keyFilter | orderBy:'$name'">
              <td class="message-username col-sm-2">
                <span>{{ message.author }}</span>
              </td>
              <td class="message-content col-sm-10">
                <div class="settings">
                  <div class="btn-group">
                    <a ng-click="remove(message.$name)" href="#"><span class="glyphicon glyphicon-trash"></span> Delete</a>
                  </div>
                </div>
                <p>{{ message.content }}</p>
              </td>
            </tr>
          </table>
        </div>
      </section>
      <form role="form" class="well clearfix" ng-submit="sendMessage()">
        <div class="row">
          <div class="col-xs-3">
            <div class="input-group">
              <span class="input-group-addon"><span class="glyphicon glyphicon-user"></span></span>
              <input ng-model="author" class="input input-lg form-control" placeholder="Your Name">
            </div>
          </div>
          <div class="col-xs-7">
            <input ng-model="newMessage" ng-disabled="sendingMessage" placeholder="What's up?" class="input input-lg form-control">
          </div>
          <div class="col-xs-2">
            <button type="submit" class="btn btn-primary btn-lg btn-block">Send</button>
          </div>
        </div>
      </form>
    </div>
    <div id="goinstant-header">
      <ul class="gi-links">
        <li class="gi-logo"><a href="http://www.goinstant.com/" target="_blank"><img src="../img/goinstant-white.png" alt="GoInstant Docs"></a></li>
        <li><a href="http://goinstant.com/signup" target="_blank">Sign up free</a></li>
        <li><a href="https://developers.goinstant.com/v1/GoAngular/index.html" target="_blank">Docs &amp; API</a></li>
      </ul>
      <ul class="gi-social">
        <li class="gi-label">Share with friends:</li>
        <li>
          <a href="https://twitter.com/share" class="twitter-share-button" data-via="goinstant" data-text="Build an easy realtime chat with GoAngular (GoInstant + AngularJS)">Tweet</a>
          <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
        </li>
        <li>
          <div class="g-plusone" data-size="medium"></div>
          <script type="text/javascript">
            (function() {
              var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
              po.src = 'https://apis.google.com/js/platform.js';
              var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
            })();
          </script>
        </li>
      </ul>
    </div>

    <!-- Config -->
    <script>
      window.connectUrl = '<%- connectUrl %>';
    </script>

    <!-- Dependencies -->
    <script src="https://cdn.goinstant.net/v1/platform.min.js"></script>
    <script src="/bower_components/jquery/dist/jquery.min.js"></script>
    <script src="/bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
    <script src="/bower_components/angular/angular.js"></script>
    <script src="/bower_components/goangular/dist/goangular.js"></script>

    <!-- App -->
    <script src="/js/chat.js"></script>
  </body>
</html>
